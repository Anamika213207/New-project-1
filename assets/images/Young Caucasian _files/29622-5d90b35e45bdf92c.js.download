"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[29622,99499],{308:(e,t,r)=>{r.d(t,{H:()=>u});var a=r(676534),i=r(911052),n=r(901610),s=r(524335);let o=e=>{let{assetType:t,currency:r,productName:o}=e,{getExperiment:d}=(0,s.U)();return(0,n.y)({productName:o,assetType:t})&&d(a.f.indiaPriceTest).groupName===i.IS?i.Uj:r};var d=r(233661),l=r(137197);let c=e=>{let{assetType:t,currency:r,productName:i}=e,{getExperiment:n}=(0,s.U)();return(0,l.m)({productName:i,assetType:t})&&n(a.f.canadaPriceTest).groupName===d.IS?d.BJ:r},u=e=>{let{assetType:t,currency:r,productName:a}=e,i=o({currency:r,assetType:t,productName:a}),n=c({currency:r,assetType:t,productName:a});return n!==r?n:i!==r?i:r}},3353:(e,t,r)=>{r.d(t,{J:()=>u});var a=r(532850),i=r(360662),n=r(50042),s=r(655515),o=r(119349),d=r(981278),l=r(455729);let{shutterstockBaseUrl:c}=(0,s.K)(),u=e=>{let{couponCode:t,displayInlineCancellationFlow:r,additionalQueryParams:s={}}=e,u=(0,d.useRouter)(),m=(0,i.Q)(),p=!!m?.current?.isPeacock;return(0,l.useCallback)(e=>{let{orderId:i}=e,d=(0,o.BF)({language:u.locale,baseUrl:c,pathname:(0,n.DG)({queryParams:{orderId:i,...s,...u?.query||{},...p&&{isCreativeAiOrder:"true"},...t?{[a.m]:t,[a.AW]:t}:{},...r&&{display:"inlineCancellationFlow"}}})});window.location=d},[t,p,u,r,s])}},52492:(e,t,r)=>{r.r(t),r.d(t,{Download:()=>n});var a=r(406029);let i=(0,r(13068).A)((0,a.jsx)("path",{d:"M24.933 15.733l-1.867-1.867-5.733 5.733V3.332h-2.667v16.267l-5.733-5.733-1.867 1.867 8.933 8.933 8.933-8.933zm-22.266 11.6V30h26.667v-2.667H2.667z"}),"Download.svg"),n=e=>(0,a.jsx)(i,{viewBox:"0 0 32 32",...e})},137197:(e,t,r)=>{r.d(t,{m:()=>u});var a=r(581298),i=r(430091),n=r(813400),s=r(315888),o=r(813631),d=r(233661);let l=e=>{let{assetType:t,productName:r,utmMedium:a,region:i,inUnlimitedExperience:l}=e,c=!r||[s.keR,s.lcL,...s.gnm,...s.BfY].includes(r),u=!t||t===o.W1,m=d.rK.includes(a??"");return!!(i===n.u3&&!m&&!l&&c&&u)};var c=r(184905);let u=e=>{let{productName:t,assetType:r}=e,n=(0,c.H)(),{region:s}=(0,a.Y)(),{utmMedium:o}=(0,i.Y)();return l({productName:t,utmMedium:o,inUnlimitedExperience:n,region:s,assetType:r})}},181758:(e,t,r)=>{r.d(t,{x:()=>o});var a=r(406029),i=r(337304),n=r(291186),s=r(461266);let o=e=>{let{asset:t,assetRegisteredCallback:r=s.lQ,registrationNotAllowedCallback:o,component:d=i.t,componentProps:l,onRegistration:c=s.lQ,children:u,isDisabled:m=!1,isLoading:p=!1}=e,{assetRegistrationHandler:y,isLoading:h}=(0,n.T)({generatedAsset:t,registrationCallback:r,registrationNotAllowedCallback:o}),g=h||p,f=async()=>{c(),await y()};return(0,a.jsx)(d,{onClick:f,disabled:g||m,isLoading:g,...l,children:u})}},213304:(e,t,r)=>{r.d(t,{G:()=>i});var a=r(455729);let i=e=>{let t=(0,a.useRef)(!1);return!t.current&&e&&(t.current=!0),t.current}},235757:(e,t,r)=>{r.d(t,{Bl:()=>v,Dq:()=>y,Ez:()=>h,FC:()=>w,G4:()=>p,GT:()=>b,Mo:()=>f,UM:()=>m,Zq:()=>u,aA:()=>N,e4:()=>k,iT:()=>I,lQ:()=>A,n4:()=>g,wQ:()=>x});var a=r(122980),i=r(49876);let{IMAGE:n,VIDEO:s,AUDIO:o,ELEMENT:d,SFX:l}=i.jZ,{DESIGN:c}=i.MP,u=e=>e.type===n&&!e.isWithdrawn&&!e.isRexEditorial,m=e=>e.type===n&&!e.isWithdrawn&&!!e.isRexEditorial,p=e=>e.type===o&&!e.isWithdrawn&&!e.isRexEditorial,y=e=>e.type===s&&!e.isWithdrawn&&!e.isRexEditorial,h=e=>e.type===s&&!e.isWithdrawn&&!!e.isRexEditorial,g=e=>e.type===d&&!e.isWithdrawn,f=e=>e.type!==c&&!!e.isWithdrawn,b=e=>e.type===c,v=e=>e.type===l,w=e=>!e.isWithdrawn&&!!e.isRexEditorial,C=e=>b(e)||p(e)||v(e)||g(e)||e.isUpload||!1,N=(e,t,r)=>{let{t:a}=e;return(C(t)?t?.title:r)||a("common:adjectives_untitled")},I=e=>!!e.holding?.lastLicensedAt||e.holding?.assetStatus.includes(a.fs)||e.holding?.assetStatus.includes(a.s9),x=e=>e.holding?.assetStatus!==void 0&&e.holding?.assetStatus?.includes(a.RK),A=e=>{let t={assetType:e.mediaItem.type,aspect:e.mediaItem.aspect??1,url:e.mediaItem.src||e.mediaItem.thumbnailUrl||""};return y(e.mediaItem)||h(e.mediaItem)?t.url=e.mediaItem.src:b(e.mediaItem)?t.url=e.mediaItem.thumbnailUrl||"":(u(e.mediaItem)||m(e.mediaItem))&&(t.url=e.mediaItem.src,t.aspect=e.mediaItem.aspect),t},k=e=>y(e)||h(e)?e.previewImageUrl:b(e)?e.thumbnailUrl:u(e)||m(e)?e.src:p(e)||v(e)?e.waveformPng:null},236599:(e,t,r)=>{r.d(t,{X:()=>N});var a=r(648973),i=r(969185),n=r(705992),s=r(532850),o=r(581298),d=r(664029),l=r(935271),c=r(302168),u=r(559044),m=r(3353),p=r(346504),y=r(377981),h=r(819254),g=r(524335),f=r(455729);let b=e=>{let{asset:t,assetSize:r,couponCode:b,license:v,products:w,productId:C,productOverride:N,productType:I=s.PZ,setCreateOrderStatus:x,setIsInvalidCoupon:A}=e,{region:k}=(0,o.Y)(),_=(0,h.o)(),[P,O]=(0,f.useState)(!1),U=(0,f.useMemo)(()=>N??{...(0,c.eO)(w,C)},[N,C,w]),R=(0,p.wb)({prices:U?.prices??{}}),{checkGate:D}=(0,g.U)(),M=D(i.M5),S=(0,f.useCallback)(e=>{let t={component:"useCreateAnonymousOrder.ts",errorCode:e.code,errorStatus:e.status,errorDetail:e.detail,errorMessage:e.message,errorStack:e.stack||"useCreateAnonymousOrder",errorTitle:e.title,msg:"CON-21: Anonymous order creation failed",referrerPath:window.location.pathname,referrerQuery:window.location.search,anonymousId:_};window.NREUM?.noticeError?.(e,t)},[_]),E=(0,m.J)({couponCode:b}),j=(0,y.h)(),[L,B]=(0,f.useState)({status:"",error:void 0});return{createOrderHandler:(0,f.useCallback)(async()=>{try{x?.({status:"",error:void 0}),B({status:"",error:void 0}),O(!0);let e=t?{assets:[{asset:t,selectedAssetSize:(0,d.aZ)({assetType:(0,u.f0)(t),assetSize:r})}]}:{},i=[];i.push({...e,product:U,productType:I});let{data:s}=await (0,l.fS)({country:k,currency:R,orderItems:i,couponCode:b,license:v,isClickToCancelARGateEnabled:M,configs:{headers:{[n.DF]:_,[n.s4]:n.o}}});x?.({status:a.qO,error:void 0}),B({status:a.qO,error:void 0}),O(!1),E({orderId:`shutterstock.${s.id}`}),j({actionName:"CON-64 - anonymous order creation success",customAttributes:{productName:U.name,productType:I,country:k,currency:R,assetType:(0,u.f0)(t),assetSize:r,license:v}}),O(!1)}catch(e){x?.({status:a.Nz,error:e}),B({status:a.Nz,error:e}),O(!1),e?.detail?.toLowerCase()===s.s_&&A?.(!0),S(e)}},[_,t,r,b,k,R,M,v,U,I,j,E,S,x,A]),isCreateOrderInProgress:P,product:U,orderStatus:L}};var v=r(282881),w=r(30721),C=r(911449);let N=e=>{let{assets:t=[],cartItemsCount:r,isCartOrder:a,...i}=e,n=(0,w.i9)(),{checkGate:s}=(0,g.U)(),o=(0,v.N)({assets:a?t:void 0,product:a?void 0:i.productOverride,checkGate:s}),d=r&&r>15,l=(0,f.useMemo)(()=>({...i,asset:t[0]?.mediaItem||i.asset}),[i,t]),c=(0,C.s)(l),u=b(l),m=c.isCreateOrderInProgress||u.isCreateOrderInProgress||e.standardMultiOrderHookResult?.isCreateOrderInProgress||e.anonymousMultiOrderHookResult?.isCreateOrderInProgress,p=(0,f.useCallback)(t=>{let{isEligibleForAnonCheckout:r}=t;return n||!r?a?e.standardMultiOrderHookResult:c:a?d||o?e.standardMultiOrderHookResult:e.anonymousMultiOrderHookResult:o?c:u},[n,a,o,u,c,d,e.anonymousMultiOrderHookResult,e.standardMultiOrderHookResult]);return{getCreateOrderHandler:(0,f.useCallback)(e=>{let{isEligibleForAnonCheckout:t=!1}=e;return{createOrderHandler:p({isEligibleForAnonCheckout:t}).createOrderHandler}},[p]),isCreateOrderInProgress:m,hasActivePromos:o,cartSizeExceedsAnonymousLimit:d,createOrderHandlerLoading:c.createOrderHandlerLoading}}},263607:(e,t,r)=>{r.d(t,{A:()=>a});let a=(0,r(455729).createContext)({})},282881:(e,t,r)=>{r.d(t,{N:()=>s});var a=r(315888),i=r(969185);let n=[{condition:e=>{let{assets:t,checkGate:r}=e;return(t?.some(e=>{let{product:t}=e;return t?.name===a.rVp})??!1)&&(r?.(i.gx)??!1)}},{condition:e=>{let{product:t,checkGate:r}=e;return t?.name===a.rVp&&(r?.(i.gx)??!1)}},{condition:e=>{let{product:t}=e;return!!t?.promotions}}],s=e=>{let{assets:t,product:r,checkGate:a}=e;return n.some(e=>e.condition({assets:t,product:r,checkGate:a}))}},291186:(e,t,r)=>{r.d(t,{T:()=>A});var a=r(926114),i=r(487519),n=r(648973),s=r(813631),o=r(563609),d=r(515729),l=r(120638),c=r(320437),u=r(30721),m=r(531950),p=r(884378),y=r(116659),h=r(461266),g=r(981278),f=r(568880),b=r(455729);let v=JSON.parse('{"id":"ff0f1012e7b153d68ad774c80d8f2e7a248a0477296111cff33f280372c4c832","type":"mutation","name":"registerImage","source":"mutation registerImage($assetId:ID!){registerImage(assetId:$assetId){data{image{classicId __typename}__typename}problems{message __typename}__typename}}"}');var w=r(946131),C=r(901606);let N=()=>{let e=(0,w.$)("/"),[t,r]=(0,b.useState)(!1);return{isLoading:t,registerAsset:(0,b.useCallback)(async t=>{let{id:a}=t;r(!0);try{let t=e=>{throw e},r=e=>e.registerImage;return await e(v.source,{assetId:a}).then(e=>(0,C.F)({response:e,onError:t,onSuccess:r}))}finally{r(!1)}},[e])}},I=e=>"AssetRegistrationDisallowedProblem"===e.__typename,x=e=>e.problems&&e.problems.find(e=>I(e)),A=e=>{let{generatedAsset:t,registrationCallback:r=h.lQ,registrationNotAllowedCallback:v}=e,{isLoading:w,registerAsset:C}=N(),I=(0,g.useRouter)(),A=(0,u.i9)(),k=(0,l.KZ)({landing_page:I.asPath}),{enqueueSnackbar:_}=(0,d.d)(),P=(0,c.v)(),{t:O}=(0,f.Bd)(a.Fjj);return{assetRegistrationHandler:(0,b.useCallback)(async()=>{if(!A)return void I.push(k);if(w)return;if(!(0,y.A)(t))return void r?.(t);let e=e=>{_({alertSeverity:n.ff,error:e,jiraReference:"AIGEN-197",message:O("notifications:label_generic_failure"),reason:"asset registration"}),P({error:e,msg:o.a_,customAttributes:{generatedAssetId:t.id}})};try{let a=await C(t),n=x(a);if(n){let{sourceAsset:t}=n;if(v&&t){if("CreativeImage"===t.__typename){let e=await m.Bn.get((0,i.LB)({id:t.classicId,assetType:s.W1,queryParams:void 0}).formattedUrl).then(e=>(0,p.A)(e.data));v(e)}else"UserImage"===t.__typename?v(t):e(Error("Blocking asset not handled"));return}e(Error("Asset registration not allowed but fallback not provided"));return}let o=a?.data?.image.classicId,d=await m.Bn.get((0,i.LB)({id:o,assetType:s.W1,queryParams:void 0}).formattedUrl).then(e=>(0,p.A)(e.data));r(d)}catch(t){if(t===o.OQ.UNAUTHORIZED)return void I.push(k);e(t)}},[A,w,t,I,k,r,C,v,_,O,P]),isLoading:w}}},298714:(e,t,r)=>{r.d(t,{l:()=>i});var a=r(571024);let i=r.n(a)()(()=>r.e(66266).then(r.bind(r,796283)).then(e=>({default:e.TosModal})),{loadableGenerated:{webpack:()=>[796283]},ssr:!1})},337304:(e,t,r)=>{r.d(t,{t:()=>b});var a=r(406029),i=r(464839),n=r(215075),s=r(907422),o=r(687534),d=r(838840),l=r(513372),c=r(97959),u=r(921888),m=r(81307);let p=(0,r(807703).n9)()((e,t,r)=>{let{breakpoints:a,palette:i,spacing:n,tokens:{font:s,border:o}}=e,{withDefaultColorScheme:d}=t;return{icon:{fontSize:s.size.icon},iconButtonWithLabel:{display:"flex",alignItems:"center",gap:n(3),maxWidth:"90%",[`.${r.buttonSquared}:hover + .${r.iconButtonLabel}`]:{fontWeight:s.weight.bold,color:i.text.primary}},buttonSquared:{marginLeft:0,borderRadius:o.radius.l,...!d&&{border:`1px solid ${i.border1Color}`,backgroundColor:i.action.disabledBackground,":hover":{borderColor:"transparent",backgroundColor:i.info.inverted,color:i.getContrastText(i.info.inverted)}}},editActionButton:{width:"auto",padding:n(3),minWidth:0,[a.up("md")]:{padding:n(4)}},iconButtonLabel:{fontSize:s.size.xs,color:i.text.secondary,lineHeight:s.lineHeight.m,flex:"auto"}}}),y=e=>{let{isLoading:t=!1}=e;return(0,a.jsx)(a.Fragment,{children:t&&(0,a.jsx)(i.A,{"data-automation":"EditActionIcon_Loading",color:"inherit",size:24,sx:{position:"absolute"}})})},h=e=>{let{Icon:t,isIconButton:r,classProps:i,isLoading:s,children:o}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y,{isLoading:s}),(r&&t?(0,a.jsx)(t,{className:i?.icon}):o)||(0,a.jsx)(n.A,{"data-automation":"EditActionButton_Skeleton",variant:"text",width:"70px"})]})},g=e=>{let{label:t,title:r,Component:i,tooltipPlacement:n="top",classProps:s,...o}=e;return(0,a.jsx)(d.D,{placement:n,role:"tooltip",title:r||t,tooltipClassName:s?.tooltip,children:(0,a.jsx)("span",{children:(0,a.jsx)(i,{...o})})})},f=e=>{let{label:t,title:r,classProps:i,isIconButton:n,Icon:d,squareButton:u,withTooltip:m,withLabel:p,withInlineLabel:y,tooltipPlacement:h,...f}=e,b=n?c.K:l.$n,v={label:t,title:r,Component:b,classProps:i,tooltipPlacement:h,...f};return u?(0,a.jsxs)(s.A,{className:i?.iconContainer,children:[m?(0,a.jsx)(g,{...v}):y?(0,a.jsxs)(c.K,{...f,children:[d&&(0,a.jsx)(d,{}),(0,a.jsx)(o.A,{variant:"caption",className:i?.label,children:t})]}):(0,a.jsx)(c.K,{...f}),p&&(0,a.jsx)(o.A,{variant:"caption",className:i?.label,children:t})]}):m?(0,a.jsx)(g,{...v}):(0,a.jsx)(b,{...f})},b=e=>{let{onClick:t,classProps:r,Icon:i,label:n,children:s,isLoading:o=!1,withLabel:d=!1,withInlineLabel:l=!1,withTooltip:c=!1,isIconButton:y=!1,squareButton:g=!1,withDefaultColorScheme:b=!1,variant:v,...w}=e,{cx:C,classes:N}=p({withDefaultColorScheme:b}),{classes:I}=(0,m.eu)(),{classes:x}=(0,u.V)(),A=(y||g)&&!!i,k={squareButton:g,isIconButton:A,classProps:{...r,iconContainer:C(N.iconButtonWithLabel,r?.iconContainer),label:C(N.iconButtonLabel,r?.label),icon:C(N.icon,r?.icon)}},_={onClick:t,variant:v,className:C({[I.buttonFilter]:!A&&!b,[N.editActionButton]:!A,[x.darkBackgroundIcon]:A&&!b,[N.buttonSquared]:g},r?.button),...A?{size:"small","aria-label":n,"data-automation":`EditActionIcon${g?"Squared":""}Button${c?"WithTooltip":""}`}:{startIcon:i&&(0,a.jsx)(i,{className:C(N.icon,r?.icon)}),variant:v??"contained",color:"primary","data-automation":`EditActionButton${c?"WithTooltip":""}`},label:n,Icon:i,withLabel:d,withInlineLabel:l,withTooltip:c,...k,...w};return(0,a.jsx)(f,{..._,children:(0,a.jsx)(h,{Icon:i,isLoading:o,...k,children:s})})}},346504:(e,t,r)=>{r.d(t,{JA:()=>f,Up:()=>y,Z0:()=>h,bV:()=>v,dV:()=>g,eb:()=>b,kI:()=>p,wb:()=>u});var a=r(9549),i=r(485650),n=r(831664),s=r(581298),o=r(308),d=r(302168),l=r(198795),c=r(455729);let u=e=>{let{prices:t,name:r}=e,{currencyData:{currency:i=a.OS}}=(0,s.Y)(),n=(0,o.H)({productName:r,currency:i});return(0,d.zn)({prices:t,localeCurrency:n})},m=e=>{let{basePrice:t,pricePerSeat:r,seatCount:a}=e;return t?t+r*a:NaN},p=e=>{let{product:t}=e,{prices:r={},pricesPerSeat:a={},seatCount:i,downloadCredits:n,allotmentCredits:s,commitmentLength:o,name:d}=t,c=u({prices:r,name:d}),p=r[c?.toLowerCase()]??NaN,y=a[c?.toLowerCase()]??NaN,h=p,g=s||n;return y&&i&&(h=m({basePrice:p,pricePerSeat:y,seatCount:i})),(0,l.f)(h/(g&&1===o?12*g:g||1),c)??void 0},y=e=>{let{product:t,promotion:r=0}=e,{prices:a={},pricesPerSeat:i={},seatCount:n,name:s}=t||{},o=u({prices:a,name:s}),d=a[o?.toLowerCase()]??NaN,c=i[o?.toLowerCase()],p=d;return r>0&&(p=Math.round(d*(1-r))),c&&n&&(p=m({basePrice:d,pricePerSeat:c,seatCount:n})),(0,l.f)(p,o)},h=e=>{let{activeTab:t,productGroup:r,productToCompare:a=n.XN}=e,{prices:i}={prices:{}},s=u({prices:i}),{products:o={}}=r,d=o[t],c=12*(d?.[a]?.prices?.[s?.toLowerCase()]??NaN)-(d?.[n.Ww]?.prices?.[s?.toLowerCase()]??NaN),m=(0,l.f)(c,s);return c>0?m:null},g=e=>{let{price:t,product:r}=e,{prices:a,name:i}=r,n=u({prices:a,name:i}),s=t||a[n?.toLowerCase()]||0;return(0,l.f)(s,n)},f=e=>{let{product:t,downloadsPerMonth:r,discountPercentage:a=0,selectedProductLicenseType:n=""}=e,s=u({prices:t?.prices??{},name:t?.name}),{pricePerPaymentInterval:o,pricePerMonth:m,pricePerAsset:p,pricePerAssetDiscounted:y,priceDiscounted:h}=(0,c.useMemo)(()=>{let e=(0,d.f8)({product:t??{}}),o=(0,d.Eu)({product:t}),l=n===i.ZI1,c=2*!["KRW","JPY"].includes(s),u=(0,d.Fj)({product:t??{}}),m=u&&!o?12:1,p=t?.prices?.[s.toLowerCase()]??NaN,y=p-p/100*a,h=u?(p/12).toFixed(c):p,g=l?(t?.allotmentCredits||0)/20:t?.allotmentCredits??NaN,f=(p/m/((e?g:t?.allotmentCredits)??NaN)).toFixed(c),b=a?(y/m/(t?.allotmentCredits??r??NaN)).toFixed(c):f;return{priceDiscounted:y,pricePerMonth:h,pricePerAsset:f,pricePerAssetDiscounted:b,pricePerPaymentInterval:p}},[s,r,t,a,n]);return{pricePerAsset:p,formattedPricePerPaymentInterval:(0,l.f)(o,s),formattedPricePerMonth:(0,l.f)(m,s),formattedPricePerAsset:(0,l.f)(p,s),formattedPricePerAssetDiscounted:(0,l.f)(y,s),formattedPriceDiscounted:(0,l.f)(h,s)}},b=e=>{let{product:t,singleClipProduct:r}=e,{prices:a,allotmentCredits:i}=t,n=u({prices:a}),s=a[n.toLowerCase()]??NaN,o=r?.prices?.[n.toLowerCase()]??NaN,d=(s/(i??NaN)).toFixed(2),c=((o-parseFloat(d))*(i??NaN)).toFixed(0);return{formattedPackagePrice:(0,l.f)(s,n),formattedPricePerAsset:(0,l.f)(d,n),formattedSaveAmount:(0,l.f)(c,n)}},v=e=>{let{prices:t={},commitmentRemaining:r=0}=e,a=u({prices:t}),i=t[a?.toLowerCase()]??NaN;return{monthlyPrice:(0,l.f)(i,a),totalRemainingPrice:(0,l.f)(i*r,a)}}},426774:(e,t,r)=>{r.d(t,{l:()=>i});var a=r(651642).Buffer;let i=e=>{let t=JSON.stringify(e);return a.from(t).toString("base64")}},476539:(e,t,r)=>{r.d(t,{z:()=>d});var a=r(639424),i=r(339264),n=r(119349),s=r(455729),o=r(120638);let d=e=>{let{asset:t,query:r={},shouldSetLocalStorage:d=!1}=e,l=(0,o.pb)(r);return(0,s.useCallback)(()=>{i.B&&(d&&(0,a.lL)(t),window.NREUM?.addPageAction?.("UP3-1623 assign useSignUpPageRedirect signUpPath to href",{...window.location||{},shouldSetLocalStorage:d,signUpPath:l}),(0,n.L3)(l,"signUpPageRedirect"))},[l,t,d])}},655515:(e,t,r)=>{r.d(t,{K:()=>n});var a=r(82281),i=r.n(a);let n=()=>{let{publicRuntimeConfig:e}=i()();return e}},670283:(e,t,r)=>{r.d(t,{T:()=>o});var a=r(676534),i=r(30721),n=r(524335),s=r(455729);let o=()=>{let{getExperiment:e}=(0,n.U)(),t=(0,i.i9)();return(0,s.useCallback)(()=>{if(t)return{isEligibleForCon64AnonymousCheckoutExperiment:!1};let r=e(a.f.signUpOnCheckout);return{isEligibleForCon64AnonymousCheckoutExperiment:1===Number(r?.get("variant",0))}},[e,t])}},700661:(e,t,r)=>{r.d(t,{M:()=>s});var a=r(406029),i=r(455729),n=r(263607);let s=e=>{let{allSizesAssetEligibility:t,asset:r,extraConfirmationDrawerContent:s,drawerStatusMessageProps:o,children:d}=e;return(0,a.jsx)(n.A.Provider,{value:(0,i.useMemo)(()=>({allSizesAssetEligibility:t,asset:r,extraConfirmationDrawerContent:s,drawerStatusMessageProps:o}),[t,r,s,o]),children:d})}},813400:(e,t,r)=>{r.d(t,{AV:()=>i,BR:()=>m,CU:()=>f,GS:()=>a,J8:()=>b,Ji:()=>l,L2:()=>d,ON:()=>u,R8:()=>n,RD:()=>c,TJ:()=>y,pp:()=>p,u3:()=>h,ye:()=>g,zm:()=>s,zz:()=>o});let a={country:"country",address1:"address1",address2:"address2",city:"city",state:"state",zip:"zip"},i={ccname:"ccname",bin:"bin",lastFour:"lastFour",brand:"brand",encryptedCardNumber:"encryptedCardNumber",encryptedCardType:"encryptedCardType",encryptedExpiryMonth:"encryptedExpiryMonth",encryptedExpiryYear:"encryptedExpiryYear",encryptedSecurityCode:"encryptedSecurityCode"},n={...a,name:"name"},s={ddname:"ddname",ddiban:"ddiban",ddbic:"ddbic"},o="Adyen3DSAuth",d="credit_card",l="direct_debit",c="sepa_direct_debit",u="paypal",m=/^\d{5}(-\d{4})?$/,p="rejected:Declined: CVC Declined",y={[d]:i,[l]:s},h="CA",g=[h],f="shutterstock",b={ORGANIZATION:"organization",CUSTOMER:"customer"}},838178:(e,t,r)=>{r.d(t,{X:()=>i});var a=r(571024);let i=r.n(a)()(()=>r.e(83768).then(r.bind(r,719320)).then(e=>({default:e.ThemedLicenseDrawer})),{loadableGenerated:{webpack:()=>[719320]},ssr:!1})},901606:(e,t,r)=>{r.d(t,{F:()=>s});var a=r(563609);r(840470);var i=r(82281);let{publicRuntimeConfig:{apiEndpoints:n}}=r.n(i)()(),s=e=>{let{response:t,onError:r,onSuccess:i}=e,{errors:n}=t;return n&&n?.length>0?r(n[0].extensions?.code===a.OQ.UNAUTHORIZED?Error(a.OQ.UNAUTHORIZED):Error(n[0].extensions?.code??"Error from graphql response")):i(t.data)}},901610:(e,t,r)=>{r.d(t,{y:()=>l});var a=r(581298),i=r(430091),n=r(315888),s=r(813631),o=r(911052);let d=e=>{let{assetType:t,productName:r,utmMedium:a,region:i}=e,d=!r||[n.keR,n.lcL,...n.gnm,...n.BfY].includes(r),l=!t||t===s.W1,c=o.rK.includes(a??"");return!!(i===o.r4&&!c&&d&&l)},l=e=>{let{productName:t,assetType:r}=e,{region:n}=(0,a.Y)(),{utmMedium:s}=(0,i.Y)();return d({productName:t,utmMedium:s,region:n,assetType:r})}},901897:(e,t,r)=>{r.d(t,{$:()=>d});var a=r(487519),i=r(287307),n=r(531950),s=r(884378),o=r(12482);let d=function(){let{queryParams:e={},shouldFetch:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,a.uy)({queryParams:e}).formattedUrl;return(0,o.I)((0,i.Rt)({enabled:t,queryKey:["getUserPaymentProfiles",r],queryFn:()=>n.Bn.get(r).then(e=>(0,s.A)(e.data))}))}},911052:(e,t,r)=>{r.d(t,{IS:()=>i,Uj:()=>a,r4:()=>n,rK:()=>s});let a="INR",i="Test",n="IN",s=["cpc","acq_display","email","affiliate"]},911449:(e,t,r)=>{r.d(t,{s:()=>T});var a=r(315888),i=r(648973),n=r(754725),s=r(969185),o=r(705992),d=r(353420),l=r(532850),c=r(581298),u=r(664029),m=r(935271),p=r(302168),y=r(559044),h=r(903074),g=r(30721);let f=e=>{let{asset:t,productName:r,isBogoPromotionActive:i=!1}=e,n=(0,h.J)(),s=(0,g.i9)(),o=(0,y.sY)(t);return(n?.isFBA||!s)&&!o&&i&&r===a.uyi};var b=r(426774),v=r(529862),w=r(262593),C=r(901897),N=r(3353),I=r(346504),x=r(120638),A=r(293733),k=r(377981),_=r(819254),P=r(631549),O=r(586694),U=r(323982),R=r(524335),D=r(962316);let{NODE_CONFIG_ENV:M}=r(929143).env,S=()=>{let e=(0,D.NF)()?"production":"qa";switch(M||e){case"dev":return"65021";case"qa":return"12424";case"production":return"14156";default:return"NO_ENV_DEFINED"}};var E=r(811407),j=r(946887),L=r(981278),B=r(455729);let T=e=>{let{products:t,asset:r,assetSize:h,couponCode:D,productId:M,productType:T=l.PZ,productOverride:z,seatCount:F,setCreateOrderStatus:H,setIsInvalidCoupon:W,vatNumber:q,license:$,isLicenseDrawer:Z=!1,preset:K,eligibilityData:G={},existingUserRedirectPath:J,selectedShadowsOption:Y,shouldForceAsset:Q=!1,subscriptionIdentifier:V,cancellationReason:X,additionalCheckoutQueryParams:ee,orderFlow:et,checkoutAction:er}=e,{region:ea}=(0,c.Y)(),{isIndiaRegion:ei}=(0,A.Z)(),{data:en}=(0,g.rA)(),{data:es}=(0,P.J)(),eo=(0,g.i9)(),ed=(0,_.o)(),[el,ec]=(0,B.useState)(!1),[,eu]=(0,U.p)(r)||[],{eligibilityCurrency:em,debitableIdentifier:ep}=G,ey=(0,O.Jz)()||(0,E.vb)(),{checkGate:eh}=(0,R.U)(),eg=eh(s.M5),ef=(0,B.useMemo)(()=>z??{...(0,p.eO)(t,M),...F?{seatCount:F}:{}},[z,M,t,F]),eb=ef?.id,{asPath:ev}=(0,L.useRouter)(),ew=(0,I.wb)({prices:ef?.prices??{},name:ef?.name}),{data:eC}=(0,C.$)({shouldFetch:!!eo}),eN=f({asset:r,productName:ef.name}),eI=D||ef.couponCode,ex=(0,x.Rt)({cookies:void 0,signUpView:void 0,queryParams:{landing_page:(0,w.$)({couponCode:eI,productId:eb,vatNumber:q,seatCount:ef?.seatCount,doNotRedirect:!0,asset:ei||Q?r:void 0,existingUserRedirect:J||eu,license:$,additionalGenerateCheckoutParams:ee,promotions:ef?.promotions}),...K&&{preset:K}}}),eA=(0,B.useCallback)(()=>{window&&(j.A.set(n.uc,ev),window.NREUM?.addPageAction?.("UP3-1623 assign loggedOutHandler authRedirectPath to href",{...window.location||{},asPath:ev,authRedirectPath:ex}),window.location.href=ex)},[ev,ex]),ek=(0,m.Z5)({paymentProfiles:eC}),e_=(0,B.useCallback)(e=>{let t={createTime:en?.createTime,component:"useCreateOrder.js",errorCode:e.code,errorStatus:e.status,errorDetail:e.detail,errorMessage:e.message,errorStack:e.stack||"useCreateOrder",errorTitle:e.title,impersonatorId:es?.impersonatorId,msg:"UP1-2650 Order creation failed",organizationId:en?.organizationId,referrerPath:window.location.pathname,referrerQuery:window.location.search,userId:en?.id,username:en?.username,isLicenseDrawer:Z};window.NREUM?.noticeError?.(e,t)},[es,en,Z]),eP=(0,N.J)({additionalQueryParams:{...ee,...er&&{checkoutAction:er}},couponCode:eI}),eO=(0,k.h)(),[eU,eR]=(0,B.useState)({status:"",error:void 0}),eD=(0,B.useCallback)(async()=>{try{if(H?.({status:"",error:void 0}),eR({status:"",error:void 0}),ec(!0),eC){let e=r?{assets:[{asset:r,selectedAssetSize:(0,u.aZ)({assetType:(0,y.f0)(r),assetSize:h})}]}:{},t=[];t.push({...e,product:ef,productType:T});let n=ef.name===a.rVp,l=eh(s.gx),c=n&&l?(0,b.l)(d.ju[a.rVp]):void 0;null!=X&&null!=V&&t.push({product:{id:S(),type:"products"},cancellationReason:X,subscriptionIdentifier:V});let{headers:p}=(0,v.H)({trackingId:ey,headers:{[o.DF]:ed}})||{},{data:g}=await (0,m.fS)({country:ea,currency:em||ew,paymentProfileId:ek?.paymentId,orderItems:t,selectedShadowsOption:Y,vatNumber:q,couponCode:eI,promotions:ef?.promotions??c,license:$,debitableIdentifier:ep,configs:{headers:p},isEligibleForUnlimitedBogoPromotion:eN,isClickToCancelARGateEnabled:eg,isFootageSelect:!!r&&(0,y.ex)(r)});eO({actionName:"convert - order creation success",customAttributes:{productName:ef.name,productType:T,country:ea,currency:em||ew,assetType:(0,y.f0)(r),assetSize:h,license:$,isLicenseDrawer:Z,orderFlow:et,couponCode:eI,orderId:g.id}}),H?.({status:i.qO,error:void 0}),eR({status:i.qO,error:void 0}),ec(!1),eP({orderId:g.id})}ec(!1)}catch(e){H?.({status:i.Nz,error:e}),eR({status:i.Nz,error:e}),ec(!1),e?.detail?.toLowerCase()===l.s_&&W?.(!0),e_(e)}},[H,eC,r,h,ef,T,eh,X,V,ey,ed,ea,em,ew,ek?.paymentId,Y,q,eI,$,ep,eN,eg,eO,Z,et,eP,e_,W]);return{createOrderHandler:eo?eD:eA,isCreateOrderInProgress:el,product:ef,orderStatus:eU,createOrderHandlerLoading:eo&&!eC}}},935271:(e,t,r)=>{r.d(t,{NM:()=>k,fS:()=>x,Z5:()=>C});var a=r(487519),i=r(914689),n=r(315888),s=r(392684),o=r(532598),d=r(338436),l=r(813631),c=r(532850),u=r(398426);let m=function(e){let t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[a]=e,{media:i,...s}=a,o=i?.[0]||{};switch(o.type){case l.W1:t=`${n.lcL}-var-0004`;break;case l.FY:t=u.eJ;break;case l.M9:t=u.Xs;break;case l.G_:t=n.t8m[o.size],r&&(t=n.fV_);break;default:return e}return[{...s,media:[]},{product:{id:t,type:c.Uy},media:[o]}]};var p=r(353420),y=r(426774);let h=()=>(0,y.l)(p.ju[n.uyi]);var g=r(559044),f=r(531950),b=r(884378);let v="production"!==r(929143).env.NODE_CONFIG_ENV,w=e=>{switch(e.paymentMethod){case i.L2:return{paymentId:e.id,expirationMonth:e?.creditCard?.expMonth,expirationYear:e?.creditCard?.expYear,maskedNumber:e?.creditCard?.maskedNumber,cardType:e?.creditCard?.type,isDefault:e.isDefault,paymentMethod:e.paymentMethod,businessUnit:e.businessUnit};case i.RD:return{paymentId:e.id,bic:e?.sepaDirectDebit?.bic,maskedIBAN:e?.sepaDirectDebit?.maskedIban,isDefault:e.isDefault,paymentMethod:e.paymentMethod,businessUnit:e.businessUnit};case i.ON:return{paymentId:e.id,isDefault:e.isDefault,paymentMethod:e.paymentMethod,businessUnit:e.businessUnit,email:e.email};default:return null}},C=e=>{let{paymentProfiles:t=[]}=e;return Array.isArray(t)&&0!==t.length?w(t.find(e=>!0===e.isDefault)||t[0]):null},N=e=>{let{orderItems:t=[],license:r,country:a="",debitableIdentifier:u,selectedShadowsOption:m,isClickToCancelARGateEnabled:p=!1}=e;return t.map(e=>{let{product:{id:t,eligibleForRebilling:y,seatCount:h,name:f=""}={},productType:b,assets:v,paymentMethod:w,subscriptionIdentifier:C,cancellationReason:N,cancellationReasonName:I}=e,x=C&&N?{subscription_identifier:C,cancellation_reason:N,...I&&{cancellation_reason_name:I}}:{},A=[];return h&&(x.seat_count=h),w?.type!==i.gU&&(x.subscription_id=w?.id),v?.length&&(A=v.map(e=>{let{asset:t,selectedAssetSize:a}=e,i=(0,g.Ub)(t),n=(0,g.OJ)(t);return{type:i,id:t.id,license:r,...n&&{format:d.mx,size:d.mx,headline:t.title},...a?.size&&{size:a.size},...a?.format&&{format:a.format},...i===l.W1&&t.imageType===l.m$&&{angle:t.angle||s.R,content_provider:l._Y,...a?.format!==o.yC&&{include_shadows:"on"===(m||"on").toLocaleLowerCase()}}}})),x.auto_renewal=y&&b===c.PZ&&!n.F7K.includes(a)&&!n.KGB.includes(f),x.debitable_identifier=u,p&&n.Khw.includes(f)&&(x.auto_refill=!1),{product:{id:t,type:b||c.Uy},...A&&{media:A},...Object.keys(x).length>0&&{meta:x}}})},I=e=>{let{currency:t,country:r,paymentProfileId:a,items:i,couponCode:n,vatNumber:s,promotions:o}=e;return{data:{type:"orders",attributes:{currency:t,items:i,country:r,payment_profile_id:a,coupons:n?[{type:"coupon",name:"coupon",coupon_code:n}]:[],client_data:{},vat_override:s||void 0,...o&&{promotions:o}}}}},x=async e=>{let{country:t,couponCode:r,currency:i,orderItems:n=[],selectedShadowsOption:s,paymentProfileId:o,vatNumber:d,configs:l={},license:u=c.sU,debitableIdentifier:p,promotions:y,isEligibleForUnlimitedBogoPromotion:g=!1,isClickToCancelARGateEnabled:w=!1,isFootageSelect:C=!1}=e,x=N({orderItems:n,license:u,country:t,debitableIdentifier:p,selectedShadowsOption:s,isClickToCancelARGateEnabled:w});g&&(x=m(x,C));let A=(0,a._u)().formattedUrl,k=I({country:t,couponCode:r,promotions:g?h():y,currency:i,items:x,paymentProfileId:o,vatNumber:d});return f.Bn.post(A,k,{...l,...v&&{timeout:3e4}}).then(e=>({headers:e.headers,data:(0,b.A)(e.data)}))},A=e=>{let{orderItems:t=[],country:r="",debitableIdentifier:a}=e;return t.map(e=>{let{product:{id:t,license:s,name:o="",productType:l,eligibleForRebilling:u,seatCount:m}={},assets:p,paymentMethod:y}=e,h={...m&&{seat_count:m},...y?.type!==i.gU&&{subscription_id:y?.id}},f=[];return p?.length&&(f=p.map(e=>{let{asset:t,selectedAssetSize:r}=e,a=(0,g.OJ)(t);return{type:(0,g._$)(t),id:t.id,license:s,...a&&{format:d.mx,size:d.mx,headline:t.title},...r?.size&&{size:r.size},...r?.format&&{format:r.format}}})),h.auto_renewal=u&&l===c.PZ&&!n.F7K.includes(r)&&!n.KGB.includes(o),h.debitable_identifier=a,{product:{id:t,type:l||c.Uy},...f&&{media:f},...Object.keys(h).length>0&&{meta:h}}})},k=async e=>{let{country:t,currency:r,orderItems:i,paymentProfileId:n,vatNumber:s,configs:o={},debitableIdentifier:d,promotions:l}=e,c=A({orderItems:i,country:t,debitableIdentifier:d}),u=(0,a._u)().formattedUrl,m=I({country:t,currency:r,items:c,paymentProfileId:n,vatNumber:s,promotions:l}),p=await f.Bn.post(u,m,{...o,...v&&{timeout:3e4}});return{headers:p.headers,data:(0,b.A)(p.data)}}},949544:(e,t,r)=>{r.d(t,{M:()=>l});var a=r(487519),i=r(30721),n=r(531950),s=r(293251),o=r(12482),d=r(455729);let l=function(){let{defaultTosStatus:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{defaultTosStatus:!0},t=(0,a.Q$)().formattedUrl,r=(0,i.i9)(),l=(0,s.jE)(),{data:c=e,error:u,isLoading:m}=(0,o.I)({queryKey:[t],queryFn:()=>n.Bn.get(t).then(e=>{let{data:{agreedTime:t}={}}=e;return!!t}),enabled:r});return{onAcceptTos:(0,d.useCallback)(async()=>{try{await n.Bn.post(t),await l.invalidateQueries({queryKey:[t]})}catch(e){}},[l,t]),tosStatus:!!u||c,isLoading:m}}},970190:(e,t,r)=>{r.r(t),r.d(t,{DownloadButton:()=>A});var a=r(406029),i=r(926114),n=r(838178),s=r(337304),o=r(181758),d=r(298714),l=r(727326),c=r(563609),u=r(360662),m=r(700661),p=r(533576),y=r(495060),h=r(530376),g=r(614304),f=r(213304),b=r(778042),v=r(949544),w=r(116659),C=r(461266),N=r(52492),I=r(568880),x=r(455729);let A=e=>{let{asset:t,onRegistration:r=C.lQ,onRegistrationComplete:A=C.lQ,withTooltip:k=!1,isIconButton:_=!1,squareButton:P=!1,tooltipPlacement:O="top",isDisabled:U=!1,labelTrack:R=l.YVZ,canRegister:D=!0,originalAsset:M,...S}=e,E=(0,b.a)(),j=(0,h.I2)(),{ready:L,t:B}=(0,I.Bd)(i.MJ$),T=B("common:actions_download"),z=(0,u.Q)(),[F,H]=(0,x.useState)(null),[W,q]=(0,x.useState)(!1),{enqueueGenericError:$}=(0,g.S)(),[Z,K]=(0,x.useState)(!1),{tosStatus:G}=(0,v.M)(),J=(0,x.useCallback)(()=>{q(!1)},[q]),Y=(0,x.useCallback)(()=>{j({action:h.rc.DOWNLOAD,asset:t}),r()},[j,r,t]),Q=(0,x.useCallback)(e=>{q(G),K(!G),H(e),(0,w.W)(e)||A?.(e)},[H,q,A,G]),V=(0,x.useCallback)(async()=>{if(!t||!M||(0,y.hx)(M)){let e="Generated image";(0,y.hx)(M)||(e=M?.isUpload?"User image":"Creative image"),$(Error("AIGEN-3335 - DownloadButton: asset or originalAsset is not valid",{cause:{code:`AIGEN-3335: assetId: ${t?.id}; originalAssetId: ${M?.id}; imageType: ${e}`}}));return}let e=new p.g({editsImage:t?.id,finalZipName:`shutterstock_${t?.id}.zip`,embedImage:M?.id},c.C3);M?.isUpload?e.resolveUrl({id:M?.id},"originalCatalogUrl","",[]):(H(M),q(G),K(!G),z.current={downloader:e,isPeacock:!0})},[t,$,z,G,M]),X=(0,f.G)(W),ee={isIconButton:_,color:"secondary",labelTrack:R,label:T,...(_||P||E)&&{Icon:N.Download},"data-automation":_?"syntheticAssetAction_DownloadIconButton":"syntheticAssetAction_DownloadButton",tooltipPlacement:O,squareButton:P,withLabel:P,withTooltip:k&&!E,...S};return(0,a.jsxs)(a.Fragment,{children:[D?(0,a.jsx)(o.x,{asset:t,assetRegisteredCallback:Q,onRegistration:Y,component:s.t,componentProps:ee,isDisabled:U,children:L&&T}):(0,a.jsx)(s.t,{...ee,onClick:V,children:L&&T}),X?(0,a.jsx)(m.M,{asset:F,children:(0,a.jsx)(n.X,{isDrawerOpen:W,onDrawerClose:J,themeModeOverride:void 0})}):null,(0,a.jsx)(d.l,{showTosModal:Z,setShowTosModal:K,setIsDrawerOpen:q})]})}}}]);
//# sourceMappingURL=29622-5d90b35e45bdf92c.js.map